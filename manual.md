![SLU logo](https://slu.szf.sk/static/img/logo.jpg)

# Používateľský manuál

Tento manuál podrobne ukazuje čo všetko sa so stránkou dá robiť ako ju ovládať a čo jednotlivé akcie spravia. Je rozdelený do dvoch sekcií, manuál pre verejnosť a manuál pre organizátorov a v rámci nich usporiadaný podľa toho v akom poradí používateľ úlohy vykonáva, takže pre kompletné zorganizovanie sezóny či prihlásenie sa na turnaj vám ním stačí prejsť raz od začiatku po koniec. Úplne na konci manuála pre organizátorov sú naviac popísané funkcionality, s ktorými bežne nepracujete, ale raz za čas sa vám zíjde vedieť ako fungujú.

# Manuál pre verejnosť

Popisuje správanie stránky pri akciách prístupných verejnosti.

## Registrácia tímu

Ak sa chcete zúčastniť nejakého z regionálnych turnajov, musíte sa naň najprv zaregistrovať. Vyberte si turnaj z aktuálnej ponuky. Ak je registrácia otvorená, môžete kliknúť na tlačidlo _Registrovať_, ktoré vás presmeruje na správny formulár. Ak registrácia otvorená nie je, detail turnaja vám pomôže zistiť kedy a či ešte otvorená bude.

Na finálové kolo sa registrácia nevypĺňa. Na turnaj budete pozvaní a budeme od vás vyžadovať len potvrdenie účasti.

## Vyplnenie formulára

Registračný formulár pozostáva z 3 hlavných častí. Najprv potrebujete zaregistrovať školu. Ak ste už niekedy školu registrovali, môžete ju vybrať zo zoznamu v hornej časti stránky. V tomto prípade môžete nechať dolný formulár nevyplnený. Ak sa registrujete po prvýkrát, školu budete musieť vytvoriť. Na vytvorenie školy slúži formulár v spodnej časti stránky. V tomto prípade školu v hornej časti nevyberajte.

Ďalším krokom je registrácia učiteľa. Učiteľa budete musieť zaregistrovať bez ohľadu na to, či ste ho už niekedy registrovali, alebo nie (kvôli GDPR). Ak však použijete rovnaké meno a e-mail, učiteľ sa spáruje s už vytvoreným a tak zabránite prípadným duplicitným pozvánkam, alebo iným nežiadaným veciam. Ako učiteľa vyplňte nie nutne vášho telocvikára, ale učiteľa na vašej škole, ktorý sa s vami zúčastní turnaja a bude na ňom za vás zodpovedný.

Posledná časť je len doplňujúca. Štandardne sa ohľadne turnaja bude komunikovať len s učiteľom, v prípade potreby tu viete toto správanie upraviť a pridať e-mail napríklad kapitána tímu, ktorému tak budú všetky e-maily chodiť tiež. Takisto môžete organizátorom napísať nejaký odkaz/poznámku. Táto im bude zaslaná e-mailom, takže sa nebojte ani klásť otázky, budú zodpovedané rýchlo.

Povinné údaje počas celej registrácie sú označené hviezdičkou. Po vyplnení registračného formulára obdržíte e-mail so žiadosťou o potvrdenie registrácie. Na turnaj budete zaregistrovaní až akonáhle svoju registráciu potvrdíte.

## Stav registrácie

Po potvrdení registrácie obdržíte e-mail so stavom vašej registrácie. Rozlišujeme 3 hlavné stavy. Ak kapacita turnaja v čase potvrdenia vašej registrácie ešte nebola napltená, obdržíte pozvánku na turnaj so všetkým potrebným a na turnaji vás budeme očakávať. Tento stav je z našej strany nemenný, teda akonáhle budete pozvaný, už sa nemôže stať, že by sme vašu účasť odmietli.

Druhým stavom je zaradenie na čakaciu listinu. Ak kapacita turnaja bola naplnená už pred vami, obdržíte e-mail s informáciou o zaradení na čakaciu listinu. Tento stav je dočasný a v prípade, že nejaký z pozvaných tímov účasť odmietne, na turnaj pozveme tím z čakacej listiny. Dôležite ale je, že kým pozvánku neobdržíte, na turnaji nie ste očakávaní.

Posledným stavom je odmietnutie účasti. Tento stav je veľmi zriedkavý. Vaša účasť môže byť odmietnutá v prípade veľmi nízkeho SOTG skóre na predošlých turnajoch, alebo v prípade, že ste boli na čakacej listine a organizátori zistili, že už určite by ste sa na turnaj nedostali.

## Ukončenie registrácie

Pre ukončenie registrácie je nutné kontaktovať organizátorov prostredníctvom kontaktného formulára, alebo kontaktov uvedených v propozíciách či v sekcii kontakt.

***

## Prihlásenie a odhlásenie

Prihlásenie funguje pomocou takzvaného jednorázového hesla. Po kliknutí na odkaz na prihlásenie v pätičke stránky zadajte svoj e-mail. Ak máte pod týmto e-mailom vytvorený používateľský účet, bude vám zaslaný e-mail s odkazom na prihlásenie. Na príhlásenie budete mať následne 60 sekúnd. Po uplynutí tejt doby odkaz vyprší.

Pre odhlásenie stačí kliknúť na tlačidlo _Odhlásiť sa_ v pätičke stránky.

***

## Správa tímu

Po úspešnej registrácii váš učiteľ obdrží e-mail s odkazom na správu tímu. Na tomto odkaze bude vidieť základné údaje o tíme a takisto bude môcť vyplniť súpisku tímu v prípade, že turnaj súpisky vyžaduje. Priamo na turnaji sa prostredníctvom tohto používateľského konta aj vypĺňa SOTG hodnotenie za váš tím.

## Súpiska hráčov

Po prihlásení uvidíte v menu pri detaile turnaja, na ktorý ste zaregistrovaní odkaz na úpravu súpisky vášho tímu. Súpisky vypĺňajte zaradom (t.j. nevynechávajte riadky formulára) a vyplňte všetky údaje o hráčovi, ktorého chcete zaregistrovať na súpisku.

## Spirit of the Game

Po začatí turnaja uvidíte v turnajovom menu odkaz na vyplnenie hodnotenie SOTG. Pre vypĺňanie musíte byť prihlásení pod účtom spojeným s vaším tímom. Stránka vám takisto zobrazí ktoré z hodnotení ste ešte nezadali. Kliknutím na ne sa vám predvyplní správny tím.

## Výsledky a galéria

Po ukončení turnaja uvidíte v turnajovom menu odkazy na výsledky turnaja, výsledky SOTG a fotky z turnaja.

# Manuál pre organizátorov

Popisuje správanie stránky pri organizácii sezón a turnajov.

## Prihlásenie sa

pass

## Vytvorenie sezóny

Prvý krok, ktorý pre zorganizovanie sezóny SLU musíte urobiť je vytvoriť ju v databáze stránky. Bez nej nebudete vedieť správne pridať turnaj. Sezónu môžete vytvoriť na administračnej stránke v časti _Turnajový správca_. Nastavenia, ktoré zadáte pri sezóne sa spropagujú na každý turnaj v tejto sezóne.

K sezóne máte takisto možnosť pridať organizátorov. Títo organizátori sú v SLU terminulógii centrálni organizátori pre danú sezónu. Pridaním organizátora mu zabezpečíte navýšené oprávnenie k turnajom v danej sezóne. Ak nejaký z organizátorov nemá používateľský účet, návod na jeho vytvorenie nájdete v sekcii všeobecné na konci tohto manuálu.

## Vytvorenie regionálneho kola

Turnaje sa vytvárajú v administračnom systéme stránky. Vo formulári sa riaďte podľa pokynov v ňom, tu nájdete iba pár vecí na čo si dať pozor. Políčko _V meste_ vyžaduje lokál mesta v ktorom sa turnaj koná. Toto mesto ale nebude mať vplyv na tvorbu adresy, take ho uveďte aj v políčku _Miesto konania_. _Dátum_ odkazuje na dátum konania turnaja. Trvanie zápasu síce nie je povinný parameter, ale zobrazuje sa pri zobrazení turnaja, je preto odporúčané ho vyplniť. Hráčske štatistiky ovplyvnia to, ako sa zobrazí skórovací formulár. Po začatí turnaja túto hodnotu nikdy nemeňte, mohlo by to poškodiť databázu. Organizátori sú lokálni organizátori, ktorí dostanú navýšené oprávnenie priamo k tomuto turnaju, ale žiadnemu inému. Zapisovatelia skóre bdobne dostanú oprávnenia len na zapisovanie skóre pri tomto turnaji. Zápasy ani výsledy pri vytváraní turnaja zadávať nemusíte. Dôležité pri turnaji je aj políčko stav. To v administračnom formulári nie je možné zmeniť, avšak eistujú funkcie na jeho zmenu. Viac o nich v sekcii _Správa regionálneho kola_ nižšie.

## Príprava regionálneho kola

Medzi vytvorením turnaja a jeho spustením musíte vytvoriť aj zápasy, teda celý rozpis zápasov prepísať na stránku. Ten sa zobrazí aj v turnajovom menu. Zápas sa dá prídať buď cez samostatný odkaz, alebo ešte jednoduchšie je to cez zmenu turnaja, kde v dolnej časti formulára je aj formulár na pridávanie zápasov.

## Správa regionálneho kola

Táto sekcia popisuje ako meniť stav turnaja a aké všetky funkcie stránka ponúka na turnajový manažment.

Akcie prístupné pri správe tímov:

* Zobraziť kontakty - zobrazí v prehľadnej forme všetky vybrané tímy a kontakty na ne na jednej stránke.
* Pozvať na turnaj - ak je tím na čakacej listine, táto akcia ho označí ako pozvaný a pošle tímu pozvánku aj propozície. Neberie ohľad na kapacitu turnaja.
* Označiť ako zúčastnený - akcia by sa nemala používať, má rovnakú funkciu ako check-in tímov, avšak dá sa spraviť aj tu.
* Odmietnuť vybrané tímy - odošle tímom mail, že ich registrácia bola zamietnutá. Táto akcia by sa nemala vykonať kým si organizátori nebudú istí, že na turnaj prídu všetky pozvané tímy, alebo kým o to tím nepožiada.
* Označiť ako nezúčastnený - spôsob ako zmeniť stav tímu, ak bol na turnaj pozvaný, ale neprišiel a nedal o tom informáciu.
* Kvalifikovať na finále - pozve tím na finále.

Akcie prístupné pri správe turnajov:

* Zobraziť _STAV_ tímy - zobrazí tímy, ktoré sú vo vzťahu _STAV_ so zvoleným turnajom.
* E-maily na _STAV_ tímy - zobrazí e-maily na tímy, ktoré sú vo vzťahu _STAV_ k zvolenému turnaju. Zobrazený zoznam je vhodný na kopírovanie.
* Spraviť turnaj neverejným - zakáže turnaju zobraziť sa používateľom na hlavnej stránke s turnajmi. (Organizátori ho budú vidieť.)
* Spraviť turnaj verejným - začne turnaj zobrazovať na hlavnej stránke s turnajmi.
* Otvoriť registráciu turnaja - povolí tímom registráciu a zároveň odošle notifikáciu o otvorení registrácie všetkým tímom niekedy registrovaným v danom regióne, akcia by sa teda mala vykonať práve raz za turnaj.
* Začať turnaj - označí turnaj ako prebiehajúci, povolí zadávanie skóre spiritu a iné akcie prístupné na turnaji. O úspešnom otvorení turnaja budú organizátori informovaný mailom.
* Poslať pozvaným tímom posledné informácie - pošle pozvaným tímom inforácie ohľadne toho ako prebieha check-in. Mail takisto zobrazuje rozpis zápasov turnaja, v čase posielania by teda mali byť všetky už nahodené na stránke.
* Zverejniť výsledky turnaja - povolí používateľom vidieť výsledky turnaja a SOTG. Zároveň odošle všetkým zúčastneným tímom diplom v elektronickej podobe, preto by všetky výsledky mali byť na stránke v dobe zverejňovania už nahodené.
* Pridať fotky - odkaz na vytvorenie turnajovej galérie nahraním fotiek zo súboru ZIP.

## Vytvorenie a správa finálového kola

Prebieha úplne rovnako ako vytvorenie a správa regionálnych kôl s tým rozdielom, ž možnosť registrácie nebude nikdy prístupná, preto by sa funkcie týkajúce sa registrácie nemali používať. Po vytvorení turnaja v správe tímov vyberte kvalifikované tímy a spustite funkciu kvalifikovať na finále. Tá zvolené tímy priradí k finálovému turnaju, ale nijako ich o tom neupovedomí, takže všetky funkcie týkajúce sa komunikácie s tímami musia byť spustené manuálne, keď na to organizátori budú pripravení.

## Zoznam turnajových úloh

Organizátori si môžu zjednodušiť prácu a sledovať svoj pokrok prostredníctvom na to vyhradenej aplikácie - zoznamu úloh. Pri každom turnaji je potrebné vytvoriť nový zoznam úloh (pomocou akcií v hornom menu je možné zoznam skopírovať z už existujúceho a následne prípadne upraviť). Tieto úlohy potom organizátori pri turnaji vedia označovať za splnené/nesplnené a sledovať koľko z nich už malo byť splnených, alebo ktoré ešte majú čas.

## Check-in tímov

Prebieha pomocou aplikácie na to určenej v turnajovom menu, po začatí turnaja. Check-in prebieha dvojfázovo, buď vybraním tímu zo zoznamu, alebo naskenovaním QR kódu zaslaného tímu spolu s poslednými informáciami. Odporúčná verzia je používať QR kód, keďže časom sa ním bude dať prenášať viac informácií, preto je dobré, aby si na to tímy zvykli. Po jednoznačnej identifikácií tímu sa zobrazia detaily daného tímu a možnosť zmeniť ich. Po odsúhlasení údajov učiteľom tímu potvrďte check-in a tímu bude zaslané potvrdenie o účasti a budú označený ako tím, ktorý sa zúčastnil turnaja.

## Manažment počas turnaja

Počas turnaja bude potrebné pridávať zápasy a skóre jednotlivých zápasov. Pridávanie zápasov funguje rovnako ako pred turnajom. Pridávanie skóre sa dá robiť aj pomocou administračného systému, ale správne by malo prebiehať v turnajovom menu pri detaile zápasu - je to jednoduchšie (užívateľ musí byť prihlásený a byť centrálny organizátor, lokálny organizátor, alebo zapisovateľ skóre tohto turnaja). Ak turnaj podporuje hráčske štatistiky, pri zapísovaní skóre sa zapisuje aj to, kto skóroval.

## Vyhodnotenie turnaja

Po ukončení turnaja je potrebné zapísať výsledky tímov na stránku a nahrať galériu. Fotky do galérie sa dajú pridávať buď jednotlivo, alebo pomocou importovania zo súboru ZIP (pre hromadné nahrávanie). Po tom, čo sa tieto akcie vykonajú je potrebné zverejniť výsledky pomocou funkcie na to určenej v turnajovom menu. Táto funkcia zároveň odošle maily zúčastneným tímom.

***

## Všeobecné

### Pridanie používateľa

Používateľov vedia pridávať len administrátori stránky (člen skupiny orávnení _Admin_). Pre pridanie používateľa potrebujete poznať jeho e-mail. Pri pridávaní zadajte meno a priezvisko užívateľa a vyberte, či bude mať správcovský prístup, teda prístup k administračnému systému a či to bude superpoužívateľ (automaticky dostane všetky možné práva). Podľa toho čo chcete aby používateľ vedel robiť vyberte skupinu oprávnení, do ktorej bude patriť, prípadne môžete dodať extra oprávnenia ručne. Po vytvorení konta bude používateľovi zaslaná notifikácia prostredníctvo e-mailu spolu s pokynmi na prihlásenie.

### Vytvorenie skupiny používateľských oprávnení

SKupiny oprávnení slúžia na zjednodušenie pridávania oprávnení užívateľom. Zadajte názov skupiny a vyberte oprávnenia, ktoré používatelia v nej budú mať. Potom stačí skupinu pridať jednotlivým používateľom.

### Pridanie novinky

Novinky sa zobrazujú rovnako ako sekcie, avšak na hlavnej stránke. Zvláštnosťou novinky je takisto dátum expirácie. Novinka je buď zobrazená, alebo nie, podľa nastavenia _Publikované_, avšak po uplynutí dátumu expirácie sa na toto nastavenie neberie ohľad a novinka sa nezobrazuje. Pre zmenu je potrebné zmeniť dátum expirácie na neskorší.

### Pridanie sekcie na stránku

Sekcia má svoj popis a obrázok. Obrázok by mal byť pre správne zobrazenie v pomere 4:3. Popis bude pri ňom, preto by nemal byť pridlhý, ani prikrátky. Sekcie majú naviac ešte poradie. Toto políčko môže obsahovať ľubovoľné prirodzené číslo (rozumen veľké) a ovplyvňuje poradie zobrazenia sekcií na stránke. Všetky publikované sekcie sa zoradia od najmenšieho po najväčšie číslo.

### Pridanie profilu organizátora

Zobrazuje profil organizátora na podstránke s kontaktom. Profil organizátora nemá nijaký súvis s používateľským účtom, takže ten môže byť zmazaný a aj napriek tomu môže byť bývalý organizátor zobrazení na stránke v "sieni slávy". Na druhej strane je nutné zadať nejaké údaje duplicitne.

### Manažment správ

Všetky správy odoslané prostredníctvom kontaktného formulára na stránke sa z bezpečnostných dôvodov ukladajú aj tu (ak by mail nedošiel, bol zmazaný, atď.). Po vybavení správ je možné ich archivovať, aby sa nezobrazovali pri navštívení stránky. (Zobraziť ich je možné zmenou hodnoty filtra.)

### Dokumenty pre organizátorov

Dokumenty pre organizátorov sú neverejné dokumenty, ktoré by mali pomôcť organizátorom s organizáciou turnaja. Zobrazujú sa na podstránke so zoznamom turnajových úloh pri každom turnaji.

### Vytvorenie šablóny e-mailu

Texty e-mailov, ktoré slúžia na komunikáciu s týmami môžu byť prostredníctvom šablón zmenené. To aký e-mail sa odošle sa určuje podľa takzvaného tagu. Pri vytváraní šablóny je teda potrebné vybrať tag. Zároveň je nutné, aby existovala maximálne jedna šablóna pre zvolený tag. Text e-mailu môže byť duplicitný. Prioritne sa posiela text HTML šablóny (pretože má tendenciu vyzerať lepšie), avšak ak nie je vytvorený, posiela sa text textovej šablóny. Každá šablóna pred odoslaním prejde ešte takzvaným renderovaním, kedy na určené miesta doplní informácie naviazané na tím/turnaj podľa toho ako tvorca určil. Šablóny majú povolené renderovať tím a všetky ich závislosti. Meno tímu teda do textu môžete vložiť napríklad ako "{{ team.name }}". Nižšie je prehľad všetkých povolených názvov, ktoré sa zakaždým zadaváju v dvojici kučeravých zátvoriek.

Pre tím (prístup cez team.hodnota):

* tournament - referencuje na turnaj,
* school - referencuje na školu,
* teacher - referencuje na učiteľa,
* players - referencuje na súpisku hráčov, pre správne zobrazenie je nutné použiť filter,
* name - názov tímu,
* identifier - jednoznačný identifikačný kód (podľa možností tajný, umožňuje vykonávať nejaké akcie v mene tímu).

Pre turnaj (prístup cez team.tournament.hodnota):

* season - referencuje na sezónu,
* delegate - meno delegáta turnaja,
* director - zobrazí riaditeľa turnaja,
* institute - zastrešujúci inštitút turnaja,
* date - dátum konania turnaja (vhodné použiť filter pre čitateľnejšie zobrazenie),
* place - miesto turnaja,
* game_duration - trvanie zápasu na turnaji,
* number_qualified - počet tímov, ktoré sa z turnaja kvalifikujú na finále,
* max_teams - maximálny počet tímov, ktoré sa na turnaj môžu prihlásiť,
* signup_deadline - termín do kedy bude otvorená registrácia,
* arrival_time - čas príchodu tímov,
* meeting_time - čas stretnutia kapitánov tímov,
* game_time - čas začiatku zápasov na turnaji,
* end_time - predpokladaný čas ukončenia turnaja.

Pre sezónu (prístup cez team.tournament.season.hodnota):

* school_year - zobrazí školský rok vo formáte "YYYY/YYYY",
* season - vráti hodnotu indoor/outdoor podľa toho o akú sezónu ide,
* game_format - vráti typ hracieho formátu (open/loose%mix/mix).

Pre školu (prístup cez team.school.hodnota):

* name - názov školy,
* street - ulica na ktorej škola sídli spolu s popisným číslom,
* postcode - poštové smerovacie číslo školy,
* city - mesto pôvodu školy.

Pre učiteľa (prístup cez team.teacher.hodnota):

* first_name - prvé meno učiteľa,
* last_name - prievisko učiteľa,
* email - email učiteľa.

Pre viac informácií o filtroch si prečítajte dokumentáciu [tu](https://docs.djangoproject.com/en/2.2/ref/templates/builtins/). Pre rozšírené využitie renderovania v šablónach si prečítajte [manuál pre programátorov](https://github.com/MartinStevko/SLU/wiki/Manual-for-programmers).

Šablónu je možné aj otestovať. V prehľade šablón stačí vybrať funkciu _Poslať skúšobný e-mail_, ktorá odošle e-mail tak ako bude vyzerať pri posielaní tímom ale na váš e-mail s generickými dátami vnútri.

### Manažment generických dokumentov

Generické dokumenty sú dokumenty generované stránkov keď posiela e-maily tímom (a tieto dokumenty v nich ako prílohy). Slúžia na to, aby sa organizátori vedeli pozireť na to, čo sa tímom odoslali a prípadne to skontrolovať. Po kontrole nič nebráni tomu vymazať ich, aby zbytoče nezaberali miesto na disku. O toto by sa mali postarať centrálni organizátori.
